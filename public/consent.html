<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ข้อตกลงและเงื่อนไขการใช้บริการ - BURSAI CHAT PLATFORM</title>
    <style>
        /* --- 1. เพิ่ม CSS สำหรับทำให้การเลื่อนนุ่มนวล และเพิ่มพื้นที่ด้านล่าง --- */
        html {
            scroll-behavior: smooth; 
        }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            line-height: 1.6; 
            padding: 20px; 
            max-width: 800px; 
            margin: auto; 
            color: #333;
            /* เพิ่ม padding-bottom เพื่อไม่ให้เนื้อหาสุดท้ายถูกปุ่มลอยทับ */
            padding-bottom: 100px; 
        }
        
        /* --- CSS ส่วนอื่นๆ ของคุณ (เหมือนเดิม) --- */
        h1, h2, h3 { color: #1a1a1a; }
        h1 { text-align: center; border-bottom: 2px solid #eee; padding-bottom: 15px; margin-bottom: 25px; }
        .content { background-color: #f9f9f9; border: 1px solid #ddd; padding: 15px 25px; border-radius: 8px; margin-bottom: 20px; }
        .actions { text-align: center; margin-top: 30px; }
        .button { display: inline-block; padding: 12px 25px; margin: 5px; border-radius: 8px; text-decoration: none; color: white; font-weight: bold; font-size: 16px; border: none; cursor: pointer; }
        .agree { background-color: #28a745; }
        .disagree { background-color: #6c757d; }
        .last-updated { text-align: center; color: #888; font-size: 0.9em; margin-bottom: 20px; }
        li { margin-bottom: 10px; }

        /* --- 2. ลบ CSS ของปุ่มเก่าทิ้งไป --- */
        /*
        .scroll-button-container { ... }
        .scroll-button { ... }
        */

        /* --- 3. เพิ่ม CSS สำหรับปุ่มลอย (Floating Action Button) --- */
        #scroll-to-bottom-btn {
            position: fixed;   /* ทำให้ลอยอยู่กับที่ */
            bottom: 25px;      /* ห่างจากขอบล่าง */
            right: 25px;       /* ห่างจากขอบขวา */
            width: 56px;       
            height: 56px;
            border-radius: 50%; /* ทำให้เป็นวงกลม */
            background-color: #007BFF;
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.25);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px; /* ขนาดของลูกศร */
            transition: transform 0.2s ease-in-out, background-color 0.2s;
        }

        #scroll-to-bottom-btn:hover {
            background-color: #0056b3;
            transform: scale(1.1);
        }
    </style>
</head>
<body>

    <!-- 4. ลบ HTML ของปุ่มเก่าออกจากตำแหน่งเดิม -->
    <!--
    <div class="scroll-button-container">
        <button id="scroll-to-bottom-btn" class="scroll-button">▼ เลื่อนไปยังส่วนการให้ความยินยอม</button>
    </div>
    -->
    
    <h1>ข้อตกลงและเงื่อนไข & นโยบายความเป็นส่วนตัว</h1>
    <p class="last-updated">ปรับปรุงล่าสุด: 19 มิถุนายน 2568</p>
  
    <div class="content">
        <!-- เนื้อหาทั้งหมดของคุณ -->
        <!-- ... -->
    </div>

    <div class="content">
        <!-- เนื้อหาทั้งหมดของคุณ -->
        <!-- ... -->
    </div>
    
    <div id="actions" class="actions">
        <a href="#" id="agree-btn" class="button agree">ยินยอมและดำเนินการต่อ</a>
        <a href="#" id="disagree-btn" class="button disagree">ไม่ยินยอม</a>
    </div>
    
    <!-- 5. เพิ่ม HTML ของปุ่มลอยเข้ามาใหม่ที่ท้ายของ body -->
    <button id="scroll-to-bottom-btn" title="เลื่อนไปยังส่วนการให้ความยินยอม">
        ↓ <!-- โค้ดลูกศรชี้ลง (↓) -->
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // โค้ด JavaScript ทั้งหมดของคุณยังคงทำงานได้เหมือนเดิมทุกประการ
            // ไม่จำเป็นต้องแก้ไขอะไรในส่วนนี้เลย
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('token');
            const actionsDiv = document.getElementById('actions'); // <-- หาเป้าหมายในการเลื่อน

            if (token) {
                const apiBaseUrl = `/api/consent-response?token=${token}`;
                document.getElementById('agree-btn').href = `${apiBaseUrl}&choice=agree`;
                document.getElementById('disagree-btn').href = `${apiBaseUrl}&choice=disagree`;
            } else {
                document.body.innerHTML = '<h1>เกิดข้อผิดพลาด</h1><p>ไม่พบข้อมูลที่จำเป็นสำหรับดำเนินการต่อ กรุณาลองอีกครั้งจากแอปพลิเคชัน LINE</p>';
                return; 
            }
          
            const scrollButton = document.getElementById('scroll-to-bottom-btn');
            scrollButton.addEventListener('click', () => {
                // สั่งให้เลื่อนหน้าจอไปยัง div ที่มี id="actions"
                actionsDiv.scrollIntoView({ behavior: 'smooth' });
            });
        });
      
    </script>

</body>
</html>